"use strict";(self["webpackChunkvue2_7_16"]=self["webpackChunkvue2_7_16"]||[]).push([[151],{3684:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("el-dialog",e._b({attrs:{visible:e.visible,width:"500px"},on:{close:function(t){return e.close()}}},"el-dialog",e.$props,!1),[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"60px"}},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{loading:e.loading,disabled:e.loading},on:{click:function(t){return e.close()}}},[e._v("取消")]),t("el-button",{attrs:{loading:e.loading,disabled:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("确认")])],1)],1)},l=[],s=a(8626),n={props:{fatherItem:{type:Object,default:()=>{}}},data(){return{loading:!1,form:{name:"",address:""},rules:{name:[{required:!0,message:"请输入",trigger:"change"}],address:[{required:!0,message:"请输入",trigger:"change"}]}}},created(){this.fatherItem&&(this.form=(0,s.cloneDeep)(this.fatherItem))},methods:{submit(){this.$refs.form.validate(e=>{e?this.close(!0):this.$message.warning("请填写必填项！")})}}},o=n,i=a(1656),u=(0,i.A)(o,r,l,!1,null,null,null),c=u.exports},7151:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"c-layout"},[t("div",{staticClass:"c-mb20"},[t("search",{on:{ok:function(t){return e.getList(!0)}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),t("el-divider"),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ce()}}},[e._v(" 新增 ")])],1),t("el-table",{staticClass:"c-layout--flex c-overflow-hidden",attrs:{data:e.tableData,border:"",height:"100%"}},[t("el-table-column",{attrs:{type:"index",width:"50"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function({row:a,$index:r}){return[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ce(a)}}},[e._v(" 编辑 ")]),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.del(r)}}},[e._v(" 删除 ")])]}}])})],1),t("l-pagination",{staticClass:"c-mt20",staticStyle:{"text-align":"right"},attrs:{"current-page":e.page.currentPage,"page-size":e.page.size,total:e.page.total},on:{"update:currentPage":function(t){return e.$set(e.page,"currentPage",t)},"update:current-page":function(t){return e.$set(e.page,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.page,"size",t)},"update:page-size":function(t){return e.$set(e.page,"size",t)},change:function(t){return e.getList()}}})],1)},l=[],s=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"地址"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),t("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" 搜索 ")]),t("el-button",{on:{click:function(t){return e.reset()}}},[e._v(" 重置 ")])],1)],1)],1)},n=[],o=a(8626),i={props:{value:{type:Object,default:()=>{}}},data(){return{sourceValue:(0,o.cloneDeep)(this.value),form:(0,o.cloneDeep)(this.value)}},computed:{modelValue:{set(e){this.$emit("input",e)},get(){return this.value}}},methods:{submit(){this.modelValue=(0,o.cloneDeep)(this.form),this.$emit("ok",this.form)},reset(){this.form=(0,o.cloneDeep)(this.sourceValue),this.modelValue=(0,o.cloneDeep)(this.sourceValue),this.$emit("ok",this.form)}}},u=i,c=a(1656),d=(0,c.A)(u,s,n,!1,null,null,null),m=d.exports,p={components:{search:m},data(){return{loading:!1,form:{name:"",address:""},tableData:[],page:{currentPage:1,size:20,total:0}}},created(){this.getList()},methods:{ce(e){this.$LDialog(a(3684),{title:e?"编辑":"新增",fatherItem:e,on:{refresh:()=>{console.log("刷新方法")}}})},getList(e=!1){e&&(this.page.currentPage=1);const t={page:this.page.currentPage,size:this.page.size,...this.form};this.loading=!0,this.$api.get("/getList",t).then(e=>{this.tableData=e.data.list,this.page.total=e.data.total}).finally(()=>{this.loading=!1})},del(e){this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.tableData.splice(e,1),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{})}}},f=p,g=(0,c.A)(f,r,l,!1,null,null,null),h=g.exports}}]);
//# sourceMappingURL=151.4058ff3c.js.map